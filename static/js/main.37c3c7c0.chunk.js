(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return k});var o=n(0),r=n.n(o),l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},c="Expected a function",i=NaN,u="[object Symbol]",s=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,f=/^0o[0-7]+$/i,h=parseInt,p="object"==typeof a&&a&&a.Object===Object&&a,v="object"==typeof self&&self&&self.Object===Object&&self,b=p||v||Function("return this")(),E=Object.prototype.toString,O=Math.max,w=Math.min,y=function(){return b.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function j(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&E.call(e)==u}(e))return i;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var n=d.test(e);return n||f.test(e)?h(e.slice(2),n?2:8):m.test(e)?i:+e}var S=function(e,t,n){var o,r,l,a,i,u,s=0,m=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError(c);function h(t){var n=o,l=r;return o=r=void 0,s=t,a=e.apply(l,n)}function p(e){var n=e-u;return void 0===u||n>=t||n<0||d&&e-s>=l}function v(){var e=y();if(p(e))return b(e);i=setTimeout(v,function(e){var n=t-(e-u);return d?w(n,l-(e-s)):n}(e))}function b(e){return i=void 0,f&&o?h(e):(o=r=void 0,a)}function E(){var e=y(),n=p(e);if(o=arguments,r=this,u=e,n){if(void 0===i)return function(e){return s=e,i=setTimeout(v,t),m?h(e):a}(u);if(d)return i=setTimeout(v,t),h(u)}return void 0===i&&(i=setTimeout(v,t)),a}return t=j(t)||0,g(n)&&(m=!!n.leading,l=(d="maxWait"in n)?O(j(n.maxWait)||0,t):l,f="trailing"in n?!!n.trailing:f),E.cancel=function(){void 0!==i&&clearTimeout(i),s=0,o=u=r=i=void 0},E.flush=function(){return void 0===i?a:b(y())},E},C=function(e){function t(t){var n=e.call(this,t)||this;return n.optionalScrollContainerRef=r.a.createRef(),t.debounce?n.handleOnScroll=S(n.handleOnScroll.bind(n),t.debounce,{trailing:!0}):n.handleOnScroll=n.handleOnScroll.bind(n),n}return function(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){if(this.props.children instanceof Function){if(!this.optionalScrollContainerRef.current)throw Error("Unable to use scroll container: Ref to child not available, did you pass the ref prop to an element?");this.optionalScrollContainerRef.current.addEventListener("scroll",this.handleOnScroll)}else document.addEventListener("scroll",this.handleOnScroll)},t.prototype.componentWillUnmount=function(){if(this.props.children instanceof Function){if(!this.optionalScrollContainerRef.current)throw Error("Unable to clean up scroll container: Ref has been unmounted prematurely.");this.optionalScrollContainerRef.current.removeEventListener("scroll",this.handleOnScroll)}else document.removeEventListener("scroll",this.handleOnScroll)},t.prototype.handleOnScroll=function(){if(this.props.children instanceof Function){if(null!=(t=this.optionalScrollContainerRef.current)){var e=Math.round(t.scrollTop+t.clientHeight);Math.round(t.scrollHeight-this.props.offset)<=e&&this.props.onBottom()}}else{var t=document.scrollingElement||document.documentElement;e=Math.round(t.scrollTop+window.innerHeight);Math.round(t.scrollHeight-this.props.offset)<=e&&this.props.onBottom()}},t.prototype.render=function(){return this.props.children?this.props.children instanceof Function?this.props.children(this.optionalScrollContainerRef):this.props.children:null},t.defaultProps={debounce:200,offset:0},t}(o.Component),B=function(e,t){return e?S(t,e,{trailing:!0}):t};function k(e,t,n){void 0===t&&(t=0),void 0===n&&(n=200);var r=Object(o.useRef)(null),l=Object(o.useCallback)(function(){if(null!=r.current){var n=r.current,o=Math.round(n.scrollTop+n.clientHeight);Math.round(n.scrollHeight-t)<=o&&e()}else{n=document.scrollingElement||document.documentElement,o=Math.round(n.scrollTop+window.innerHeight);Math.round(n.scrollHeight-t)<=o&&e()}},[t,e,r.current]);return Object(o.useEffect)(function(){var e=B(n,l),t=r.current;return null!=t?t.addEventListener("scroll",e):window.addEventListener("scroll",e),function(){null!=t?t.removeEventListener("scroll",e):window.removeEventListener("scroll",e)}},[l,n]),r}t.a=C}).call(this,n(5))},12:function(e,t,n){e.exports=n(26)},17:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),l=n(6),a=n.n(l),c=(n(17),n(3)),i=n(2),u=n.n(i),s=n(7),m=n(8),d=n(10),f=n(9),h=n(11),p=(n(25),n(1)),v=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleOnDocumentBottom=function(){console.log("I am at bottom! "+Math.round(performance.now())),n.props.alertOnBottom&&alert('Bottom hit! Too slow? Reduce "debounce" value in props')},n.handleContainerOnBottom=function(){console.log("I am at bottom in optional container! "+Math.round(performance.now())),n.props.alertOnBottom&&alert('Bottom of this container hit! Too slow? Reduce "debounce" value in props')},n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"root"},r.a.createElement("div",{className:"scroll-box"},r.a.createElement("h1",null,"Component example"),r.a.createElement("h2",null,"Callback when document hits bottom"),r.a.createElement("div",null,"Scroll down! \u25bc\u25bc\u25bc"),r.a.createElement("div",null,"A bit more... \u25bc\u25bc"),r.a.createElement("div",null,"Almost there... \u25bc"),r.a.createElement("div",null,"You've reached the bottom!")),r.a.createElement(p.a,{onBottom:this.handleOnDocumentBottom}),r.a.createElement(p.a,{onBottom:this.handleContainerOnBottom},function(e){return r.a.createElement("div",{ref:e,className:"inner-scroll-example"},r.a.createElement("h4",null,"Callback when this container hits bottom"),r.a.createElement("div",null,"Scroll down! \u25bc\u25bc\u25bc"),r.a.createElement("div",null,"A bit more... \u25bc\u25bc"),r.a.createElement("div",null,"Almost there... \u25bc"),r.a.createElement("div",null,"You've reached the bottom!"))}))}}]),t}(o.Component),b=function(e){var t=e.alertOnBottom,n=Object(o.useCallback)(function(){console.log("I am at bottom! "+Math.round(performance.now())),t&&alert('Bottom hit! Too slow? Reduce "debounce" value in props')},[t]),l=Object(o.useCallback)(function(){console.log("I am at bottom in optional container! "+Math.round(performance.now())),t&&alert('Bottom of this container hit! Too slow? Reduce "debounce" value in props')},[t]);Object(p.b)(n);var a=Object(p.b)(l);return r.a.createElement("div",{className:"root"},r.a.createElement("div",{className:"scroll-box"},r.a.createElement("h1",null,"Hook example"),r.a.createElement("h2",null,"Callback when document hits bottom"),r.a.createElement("div",null,"Scroll down! \u25bc\u25bc\u25bc"),r.a.createElement("div",null,"A bit more... \u25bc\u25bc"),r.a.createElement("div",null,"Almost there... \u25bc"),r.a.createElement("div",null,"You've reached the bottom!")),r.a.createElement("div",null,r.a.createElement("div",{ref:a,className:"inner-scroll-example"},r.a.createElement("h4",null,"Callback when this container hits bottom"),r.a.createElement("div",null,"Scroll down! \u25bc\u25bc\u25bc"),r.a.createElement("div",null,"A bit more... \u25bc\u25bc"),r.a.createElement("div",null,"Almost there... \u25bc"),r.a.createElement("div",null,"You've reached the bottom!"))))},E=function(){var e=Object(o.useState)(!0),t=Object(c.a)(e,2),n=t[0],l=t[1],a=Object(o.useState)(!0),i=Object(c.a)(a,2),s=i[0],m=i[1];return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("h1",null,"react-bottom-scroll-listener"),r.a.createElement("div",{className:"right-toggle-box"},r.a.createElement("label",{htmlFor:"alert-state"},r.a.createElement("span",null,"Use ",s?"alert dialog":"console.log"),r.a.createElement(u.a,{id:"alert-state",checked:s,onChange:function(){return m(function(e){return!e})}})),r.a.createElement("label",{htmlFor:"use-hook-state"},r.a.createElement("span",null,"Use ",n?"hook":"component"),r.a.createElement(u.a,{id:"use-hook-state",checked:n,onChange:function(){return l(function(e){return!e})}})))),n?r.a.createElement(b,{alertOnBottom:s}):r.a.createElement(v,{alertOnBottom:s}))};a.a.render(r.a.createElement(E,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.37c3c7c0.chunk.js.map